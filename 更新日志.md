```
2023-04-18
1.同步红叶脚本

2023-04-14
1.为cga.EnableFlags新增可用参数cga.ENABLE_FLAG_SHOWPETS = 6
1.新增API cga.GetGameServerInfo

2022-12-13
1.修复玩家信息界面文本错误的bug(感谢waiting)
2.修复脚本日志框内容显示问题的bug(感谢waiting)
3.修复字符串逃逸转换的bug(感谢waiting)

2022-05-02
1.修复10次登录失败关闭游戏功能在失败1次后就会关闭游戏的问题
2.修复随机目标选择器不随机的问题

2022-01-20
1.新增API cga.SetSwitchAnimForceWait可以在切屏画面强制等待一定时间
2.战斗界面增加一个可勾选项：战斗结束后强制等待，等待时间取决于“延迟从X到Y的Y项”
3.禁用cgaapi中的地图下载接口
4.优化走随机迷宫的代码，现在不再依赖下载地图，而是自己尝试慢慢开地图
5.新增环境变量：CGA_DIR_PATH_UTF8用于给node环境使用

2021-10-13
1.新增API cga.SendMail和cga.SendPetMail

2021-10-10
1.修复未启用“自动登录”的情况下“自动换线”仍然生效的问题
2.node环境增加环境变量CGA_DIR_PATH(指向CGA根目录绝对路径)，可以用process.env.CGA_DIR_PATH引用
3.cga.GetPlayerInfo的返回数据中增加nick（玩家称号）,use_title（当前使用的特殊称号）,score（战绩）,skillslots（技能栏数量）
4.cga.Get(Bank)Pet(s)Info的返回数据中条目增加skillslots（技能栏数量）

2021-10-04
1.新增API cga.DeleteCard
2.自动战斗新增一些战斗条件

2021-07-15
1.增加10次登录失败关闭游戏的开关
2.显血开关移至玩家信息页面，改名游戏内文本
3.玩家信息页面增加说话防掉线的开关

2021-07-12
1.解决某些电脑无法启动CGA主程序的问题

2021-07-08
1.修复-chatmaxlines无效的问题，现在消息超过100行也会自动删除了
2.去除“玩家强制行动”功能，新增遇敌停止时响起提示音（需要在CGAssistant根目录放置beep.wav）
3.地图界面新增手动输入导航，以及快捷键说明

2021-07-01
1.新增启动参数-consolemaxlines -chatmaxlines 限制控制台和消息的最大行数防止消息过多导致的卡顿，默认100

2021-06-26
1.新增API cga.GetPicBooksInfo 获取图鉴

2021-06-20
1.新增API cga.PlayGesture 播放动作

2021-06-01
1.修复多进程同时登录时，后登录的glt会使前一个登录器获取的glt失效，且不会重新获取glt，导致登录失败的问题
2.修复掉线不会自动重连的问题

2021-05-26
1.修复F4一键取出碰到空的格子时会导致取出失败的问题
2.修复cga.gui.LoadAccount无法及时刷新登录账号的问题
3.修复战斗中无法使用cga.LogBack的问题

2021-05-21
1.新增API cga.ChangePetName 用于修改宠物名称
2.修复cga.gui.LoadSetting未填充的参数会被覆盖为0的问题
3.修复消息选项卡中聊天消息记录插入位置出错的问题

2021-05-09
1.移除“数据共享计划”
2.修复“消息”选项卡的功能
3.修复-createcharaname等启动参数无效的问题

2021-05-07
1.新增自动创建角色的功能
2.自动登录时可以自动选择等级最高/最低的角色

2021-05-06
1.新增数据共享计划，勾选后会共享“深蓝线”、“随机NPC坐标”等数据给服务器。服务器目前可以通过http://121.41.12.89:8080/访问，以后会换成域名。
2.修复战斗条件“敌方单位不包含”在某些情况下无法正确工作的问题

2021-04-01
1.修复win7不能使用自动寻路的问题

2021-03-22
1.正式升级到nodejs v14.16
2.正式升级到msvc142(Visual Studio 2019)编译工具集

2021-03-12
1.新增API cga.ChangePersDesc, cga.ChangeNickName, cga.ChangeTitleName
2.API cga.EnableFlags，cga.IsPlayerFlagsEnabled 新增两个flag支持：cga.ENABLE_FLAG_AVATAR_PUBLIC 和 cga.ENABLE_FLAG_BATTLE_POSITION
3.API cga.GetPlayerInfo 返回内容中增加成员persdesc（个人简介）和battle_position（前后排）

2020-12-22
1.修复一个BUG，该BUG曾导致当玩家或宠物名字中出现繁体或特殊字符时无法获取到正确的战斗单位列表（cga.GetBattleUnits）以及因此导致的自动战斗失效。

2020-12-16
1.API cga.GetMapUnits新增导出人物头上图标，用来判断打针、制造、厨师。通用挂机脚本可以直接找头上有打针图标的人了。

2020-12-10
1.新增API cga.GetBankGold和cga.GetBankPetsInfo用于获取银行中的宠物、金钱。

2020-11-23
1.修复通用刷十年戒指报错问题
2.修复通用低地鸡报错问题
3.四转换花左边只发起交易右边只接受交易，防止交易过快导致卡交易
4.修复就职饲养脚本的问题
5.通用挂机脚本启动时强制登出一次自动检查定居地
6.修复哥拉尔存银行、去医院等功能不会自动登出回哥拉尔导致报错（提示必须从哥拉尔启动）的问题

2020-11-11
1.修复自动换线8次之后CGA进程卡住的问题

2020-10-23
1.增加自动换线功能
2.去除“自动结束脚本”功能

2020-10-20
1.修复启动参数-scriptautoterm无效的问题
2.脚本支持自动寻找头上有打针标志的医生

2020-10-15
1.脚本选项卡增加"自动结束脚本"用于在掉线时自动强制结束脚本。现在默认掉线时不再强制结束脚本。
2.新增API cga.AsyncWaitConnectionState用于捕获登录成功、登录失败、掉线。
3.新增API用于操作主界面中的控件，见cgaapi.js中的cga.gui

2020-9-25
1.使用高等级治疗时如果最高级技能不可用会自动降级

2020-9-18
1.CGA和游戏标题都增加名字和服务器线路显示
2.新增API cga.GetSysTime 获取游戏内部时间
3.新增API cga.UpgradePlayer 给人物加点
4.新增API cga.UpgradePet 给宠物加点

2020-8-25
1.修复组队状态下不能明镜的问题。

2020-8-22
1.修复吃血瓶固定血量值的判断问题、宠物吃血吃料理功能忽略非出战宠物。
2.调整cga.GetItemInfo等API的返回数据，去除attr2和info2两个无用数据。

2020-8-17
1.增加战斗外吃料理血瓶，使用顺序从背包第一格到最后一格。

2020-7-22
1.自动战斗更换宠物增加蓝量最多的宠物等多个选项
2.自动战斗条件增加支持队友数量判断（队友包括自己和自己的宠物）
3.修复PK站位在左边时目标选择器错乱的问题
4.脚本支持暂停

2020-5-23
1.游戏不在前台时屏蔽鼠标输入以防止刚登入时莫名其妙走路
2.API GetPlayerInfo增加骑宠信息
3.API StartWork支持骑宠

2020-4-20
1.修复F3穿墙往正上方穿会走错方向的问题
2.修复自动登录卡住的问题
3.地图界面中左键点击空白处可以显示点击处坐标

2020-4-16
1.修复战斗设置某些条件不保存百分号的问题
2.账号界面会显示正在等待登录的CGA进程

2020-3-7
1.修复脚本交易流程有时候不结束的问题。
2.自动登录功能现在改为互斥登录，只有一个账号登上游戏了才会开始登录其他账号。

2020-2-26
1.自动战斗增加新条件：背包物品判定

2020-1-29
1.新增聊天消息页面。所有聊天和系统消息都会记录，并且可以筛选。
2.修复下载地图时地形图像不刷新的问题。
3.修复先附加游戏再自动登录会导致错误拉起游戏的问题。

2020-1-6
1.自动战斗界面的"使用物品"功能支持添加物品类型和ID，具体方法为添物品名为“@物品类型”或“#物品ID”，比如@12345或者#54321，即可使用类型为12345或者ID为54321的物品。
2.物品界面显示物品类型，以@+数字表示。

2020-1-4
1.脚本支持拖拽本地文件直接加载

2019-12-28
1.修复了一个连续点击“获取子账号”按钮会多次启动游戏的BUG
2.废除“高速遇敌”按钮，高速遇敌功能迁移至脚本文件“高速遇敌.js”，需要使用时自行加载即可。
3.地图页面新增功能：按S取消寻路，按C画面居中(原按钮废除)，按R恢复原始状态，鼠标中键（滚轮按下）放大查看鼠标指向的地图区域。

2019-12-27
1.地图页面改进渲染方式
2.地图页面右键点地板可以自动寻路
3.地图页面左键点NPC可以查看NPC名字
4.地图页面增加画面居中功能，可以以固定缩放比例查看以自己为中心附近的地图

2019-12-21
支持网通

2019-12-14
快捷键F4取出所有物品修复会卡物品栏的问题。

2019-12-01
游戏内增加快捷键：

F1登出回城 F2登出服务器 F3穿墙(向鼠标指向方向) F4交易时一键取出所有物品

```